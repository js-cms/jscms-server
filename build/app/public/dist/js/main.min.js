$(function(){var n,i,t=window.location,s=(n=!1,(-1<(i=navigator.userAgent).indexOf("Android")||-1<i.indexOf("iPhone")||-1<i.indexOf("iPad")||-1<i.indexOf("iPod")||-1<i.indexOf("Symbian"))&&(n=!0),n),o=function(n,i,e){$(n).addClass(i+" animated").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){$(this).removeClass(i).removeClass("animated"),"function"==typeof e&&e()})},e=function(n,i,e){$(n).addClass(i+" animated").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){$(this).removeClass(i).removeClass("animated"),$(n).remove(),"function"==typeof e&&e()})},c={"feedback-btn-click":function(){$(".nav-btn-item .btn-red").on("click",function(n){var i=$("<div class='pop-mask'><div class='modal'><div class='head'><i class='imgicon-close'></div><div class='body'><img class='wechat-serach-poster' src='/public/images/contact-pop.png' ></div></div></div>");$("body").append(i),$(".pop-mask").on("click",function(){$(this).remove()})})},"search-input-keyup":function(){$(".nav-search-item input").on("keyup",function(n){this.value&&13===n.keyCode&&(window.location.href="/search?q="+this.value)})},"view-image-click":function(n){n=n||".ui_qtext_image",$(n).on("click",function(n){var i='<div class="pop-mask"><img class="zoom-img" src="'+$(this).attr("src")+'" ></div>';$("body").append($(i)),o(".zoom-img","zoomIn"),$(".pop-mask").on("click",function(n){o(".zoom-img","zoomOut",function(){$(".pop-mask").remove()})})})},"show-enbtn-click":function(){$(".btn-showen").on("click",function(n){var a=function(n){0!==$(".en-content-warp").length||"function"!=typeof n?(s&&$("body").css("overflow","visible"),e(".en-content-warp","fadeOutRight",n)):n()},t=$(this).attr("data-answerId");a(function(){n=function(n){$.get("/api/v1/answer?answerId="+t,function(n){var i;$(".loading-warp").remove(),i=n.data,new Vue({el:".en-content-warp",data:function(){return{answer:i}},methods:{close:function(){a()}}}),setTimeout(function(){c["view-image-click"]()},100)})},i={},e=$('<div class="en-content-warp"><i class="pngicon-close" @click="close()"></i>\n        <div class="answer-warp" style="border:none;margin-top: 30px;padding:0px;height:calc(100% - 40px);overflow:hidden;overflow-y: auto;-webkit-overflow-scrolling: touch;">\n  <div class="loading-warp" style="border: none;"><div class="loading-content"><div class="loading-column"><div class="loading-container animation-3"><div class="shape shape1"></div><div class="shape shape2"></div><div class="shape shape3"></div><div class="shape shape4"></div></div></div></div></div>      <div class="question-link">\n            <a :href="\'/question/\'+ answer.questionId._id +\'.html\'" :title="answer.questionId.enTitle">{{answer.questionId.enTitle}}</a>\n        </div>\n        <div class="answer-user">\n            <div class="photo-wrapper">\n                <img :src="answer.authorAvatar" alt="">\n            </div>\n            <div class="user-info">\n                <div class="user-intro">{{answer.authorName}}，{{answer.authorIntro}}</div>\n                <div class="answer-permalink">\n                    <a :href="\'/answer/\'+ answer._id +\'.html\'">{{answer.date}} · (点击此处查看该回答)</a>\n                </div>\n            </div>\n        </div>\n        <div class="answer-preview htmlContent" v-html="answer.htEnContent">\n</div>\n    </div>\n        </div>'),e.find(".ui_qtext_image_wrapper img"),$("body").append(e),o(".en-content-warp","fadeInRight"),s&&$("body").css("overflow","hidden"),setTimeout(function(){n(i)},500);var n,i,e})})},"search-input-click":function(){$(".nav-search-item").on("click",function(){$(this).find(".last-keywords").remove()})}},a={$public:function(){c["feedback-btn-click"](),c["search-input-keyup"](),c["view-image-click"](),c["show-enbtn-click"](),c["search-input-click"]()},"/|/index.html|/index/":function(){$(".answer-warp").on("click",function(n){$(n.target).hasClass("btn-blue")&&($(this).find(".mask").remove(),$(this).find(".limit180").removeClass("limit180"))})},"/search":function(){var s=function(n){var i="?";for(var e in n)i+=e+"="+n[e]+"&";return i.substring(0,i.length-1)},o=function(){var n=t.search,i=new Object;if(-1!=n.indexOf("?")){var e=n.substr(1);strs=e.split("&"),console.log(strs);for(var a=0;a<strs.length;a++)i[strs[a].split("=")[0]]=decodeURIComponent(strs[a].split("=")[1])}return i}();$(".nav-search-item input").val(o.q),$(".search-filters-warp").on("click",function(n){var i=n.target;if("A"===i.nodeName){var e=$(i).attr("data-value").split("="),a=e[0],t=e[1];o[a]=t,window.location.href="/search"+s(o)}}),$(".question-item-warp").on("click",function(n){if("show-more"===n.target.className){var e=$(this).attr("data-id"),i=$('<div class="loading-warp" style="border: none;"><div class="loading-content"><div class="loading-column"><div class="loading-container animation-3"><div class="shape shape1"></div><div class="shape shape2"></div><div class="shape shape3"></div><div class="shape shape4"></div></div></div></div></div>');$(this).find(".answer-summary").remove(),$(this).append(i);new Vue({el:"#id"+e,data:function(){return{isShowAnswer:!1,answer:{}}},mounted:function(){var i=this;$.get("/api/v1/answer?answerId="+e,function(n){setTimeout(function(){i.answer=n.data,$("#id"+e+" .loading-warp").remove(),$("#id"+e+" .answer-warp").css("display",""),i.isShowAnswer=!0,c["show-enbtn-click"](),setTimeout(function(){c["view-image-click"]()},300)},500)})}})}}),$("input.author-input").on("keyup",function(n){this.value&&13===n.keyCode&&(o.author=this.value,window.location.href="/search"+s(o))})}};for(var d in a){var r=a[d];if("$public"===d)r();else if(-1!==d.indexOf("|")){d.split("|").forEach(function(n){t.pathname===n?r():-1!==t.pathname.indexOf(n)&&r()})}else t.pathname===d&&r()}});
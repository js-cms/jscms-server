{"version":3,"sources":["webpack:///./src/pages/article/edit.vue?f4e8","webpack:///src/pages/article/edit.vue","webpack:///./src/pages/article/edit.vue?1b79","webpack:///./src/pages/article/edit.vue","webpack:///./src/pages/article/edit.vue?ebc1","webpack:///./src/pages/article/edit.vue?698a"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","slot","_v","_s","id","staticStyle","float","attrs","type","size","on","click","$event","saveData","clsss","model","article","label-width","label","placeholder","callback","$$v","$set","_l","category","i","key","title","length","keywordsStr","description","rows","undefined","mdContent","staticClass","shadow","source","_e","staticRenderFns","editvue_type_script_lang_js_","data","loading","categoryList","typeOptions","categoryId","poster","keywords","$route","query","watch","handler","console","log","store_legacy_default","a","set","deep","mounted","_this","getCategory","draftArticle","get","_id","fill","getData","loaded","methods","_getData","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","res","wrap","_context","prev","next","request","concat","sent","join","stop","apply","arguments","validate","$message","error","_saveData","_callee2","validateRes","_keywords","msg","_context2","abrupt","split","toConsumableArray","Set","post","code","es6_typeof","JSON","stringify","success","closeMe","_getCategory","_callee3","_context3","forEach","item","push","_x","_this2","setTimeout","$store","dispatch","tagName","vm","_this3","article_editvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_edit_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_edit_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_edit_vue_vue_type_style_index_1_id_2fb3919e_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_edit_vue_vue_type_style_index_1_id_2fb3919e_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-68c4.1aebf90e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('d2-container',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('template',{slot:\"header\"},[_c('span',[_vm._v(_vm._s(_vm.id ? '修改' : '新建')+\"文章\")]),_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.saveData()}}},[_vm._v(_vm._s(_vm.id ? '保存' : '发布'))])],1),_c('div',{attrs:{\"clsss\":\"filter-warp\"}},[_c('el-form',{attrs:{\"model\":_vm.article,\"label-width\":\"130px\"}},[_c('el-form-item',{attrs:{\"label\":\"文章分类\"}},[_c('el-select',{attrs:{\"placeholder\":\"选择文章分类\"},model:{value:(_vm.article.categoryId),callback:function ($$v) {_vm.$set(_vm.article, \"categoryId\", $$v)},expression:\"article.categoryId\"}},_vm._l((_vm.categoryList),function(category,i){return _c('el-option',{key:i,attrs:{\"label\":category.name,\"value\":category.id}})}))],1),_c('el-form-item',{attrs:{\"label\":\"文章类型\"}},[_c('el-select',{attrs:{\"placeholder\":\"选择文章类型\"},model:{value:(_vm.article.type),callback:function ($$v) {_vm.$set(_vm.article, \"type\", $$v)},expression:\"article.type\"}},_vm._l((_vm.typeOptions),function(type,i){return _c('el-option',{key:i,attrs:{\"label\":type.name,\"value\":type.id}})}))],1),_c('el-form-item',{attrs:{\"label\":\"文章封面\"}},[_c('el-input',{attrs:{\"placeholder\":\"填写文章封面地址\"},model:{value:(_vm.article.poster),callback:function ($$v) {_vm.$set(_vm.article, \"poster\", $$v)},expression:\"article.poster\"}})],1),_c('el-form-item',{attrs:{\"label\":'文章标题('+ _vm.article.title.length +')'}},[_c('el-input',{attrs:{\"placeholder\":\"填写文章标题\"},model:{value:(_vm.article.title),callback:function ($$v) {_vm.$set(_vm.article, \"title\", $$v)},expression:\"article.title\"}})],1),_c('el-form-item',{attrs:{\"label\":'文章关键字('+ _vm.article.keywordsStr.length +')'}},[_c('el-input',{attrs:{\"placeholder\":\"填写文章关键字\"},model:{value:(_vm.article.keywordsStr),callback:function ($$v) {_vm.$set(_vm.article, \"keywordsStr\", $$v)},expression:\"article.keywordsStr\"}})],1),_c('el-form-item',{attrs:{\"label\":'文章描述('+ _vm.article.description.length +')'}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":5,\"placeholder\":\"填写文章描述/摘要\"},model:{value:(_vm.article.description),callback:function ($$v) {_vm.$set(_vm.article, \"description\", $$v)},expression:\"article.description\"}})],1)],1)],1),(_vm.article.mdContent!==undefined)?_c('div',[_c('d2-mde',{staticClass:\"mde\",model:{value:(_vm.article.mdContent),callback:function ($$v) {_vm.$set(_vm.article, \"mdContent\", $$v)},expression:\"article.mdContent\"}}),_c('el-card',{staticClass:\"d2-card\",attrs:{\"shadow\":\"never\"}},[_c('d2-markdown',{attrs:{\"source\":_vm.article.mdContent}})],1)],1):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <d2-container v-loading=\"loading\">\n    <template slot=\"header\">\n      <span>{{ id ? '修改' : '新建' }}文章</span>\n      <el-button type=\"primary\" size=\"mini\" style=\"float: right\" @click=\"saveData()\">{{ id ? '保存' : '发布' }}</el-button>\n    </template>\n    <div clsss=\"filter-warp\">\n      <el-form :model=\"article\" label-width=\"130px\">\n        <el-form-item label=\"文章分类\">\n          <el-select v-model=\"article.categoryId\" placeholder=\"选择文章分类\">\n            <el-option :label=\"category.name\" :value=\"category.id\" v-for=\"(category, i) in categoryList\" :key=\"i\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"文章类型\">\n          <el-select v-model=\"article.type\" placeholder=\"选择文章类型\">\n            <el-option :label=\"type.name\" :value=\"type.id\" v-for=\"(type, i) in typeOptions\" :key=\"i\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"文章封面\">\n          <el-input v-model=\"article.poster\" placeholder=\"填写文章封面地址\"></el-input>\n        </el-form-item>\n        <el-form-item :label=\"'文章标题('+ article.title.length +')'\">\n          <el-input v-model=\"article.title\" placeholder=\"填写文章标题\"></el-input>\n        </el-form-item>\n        <el-form-item :label=\"'文章关键字('+ article.keywordsStr.length +')'\">\n          <el-input v-model=\"article.keywordsStr\" placeholder=\"填写文章关键字\"></el-input>\n        </el-form-item>\n        <el-form-item :label=\"'文章描述('+ article.description.length +')'\">\n          <el-input type=\"textarea\" :rows=\"5\" v-model=\"article.description\" placeholder=\"填写文章描述/摘要\"></el-input>\n        </el-form-item>\n      </el-form>\n    </div>\n    <div v-if=\"article.mdContent!==undefined\">\n      <d2-mde\n        v-model=\"article.mdContent\"\n        class=\"mde\"/>\n      <el-card shadow=\"never\" class=\"d2-card\">\n        <d2-markdown :source=\"article.mdContent\"/>\n      </el-card>\n    </div>\n  </d2-container>\n</template>\n\n<script>\nimport { req, baseURL } from \"@/api/request\"\nimport store from 'store'\n\nexport default {\n  name: \"articleEdit\",\n  data() {\n    return {\n      loading: true,\n      categoryList: [],\n      typeOptions: [{\n        id: 1,\n        name: \"单封面\"\n      }, {\n        id: 2,\n        name: \"多封面\"\n      }],\n      article: {\n        categoryId: \"\",\n        type: 1,\n        poster: \"\",\n        title: \"\",\n        keywordsStr: \"\",\n        keywords: [],\n        description: \"\",\n        mdContent: undefined\n      },\n      id: this.$route.query.id || \"\"\n    }\n  },\n  watch: {\n    article: {\n      handler() {\n        if (this.article ) {\n          if ( this.article.title ||\n            this.article.keywordsStr ||\n            this.article.keywords.length ||\n            this.article.description ||\n            this.article.mdContent\n          ) {\n            console.log(\"save\", this.article);\n            store.set(\"draft-article\", this.article)\n          }\n        }\n      },\n      deep: true\n    }\n  },\n  mounted() {\n    this.getCategory(() => {\n      let draftArticle = store.get(\"draft-article\")\n      if ( draftArticle == undefined || draftArticle == null || draftArticle == '' ) {\n        draftArticle = this.article\n      }\n      if (this.id) {\n        if ( this.id === draftArticle._id ) {\n          this.fill(draftArticle)\n        } else {\n          this.getData()\n        }\n      } else {\n        if ( draftArticle ) {\n          this.fill(draftArticle)\n        }\n        if ( this.article.mdContent === undefined ) {\n          this.article.mdContent = \"\";\n          this.loaded()\n        }\n      }\n    })\n  },\n  methods: {\n    async getData() {\n      let res = await req.get(`/api/article?id=${this.id}`)\n      res.data.data.keywordsStr = res.data.data.keywords.join(',')\n      let article = res.data.data\n      this.fill(article)\n      this.loaded()\n    },\n\n    fill(article) {\n      this.article = article\n      this.loaded()\n    },\n\n    validate() {\n      if ( this.article.categoryId === \"\" ) {\n        this.$message.error(\"请选择文章分类\")\n        return false\n      }\n      if ( this.article.type === \"\" ) {\n        this.$message.error(\"请选择文章类型\")\n        return false\n      }\n      if ( this.article.title === \"\" ) {\n        this.$message.error(\"请填写文章标题\")\n        return false\n      }\n      if ( this.article.poster === \"\" ) {\n        this.$message.error(\"请填写文章封面地址\")\n        return false\n      }\n      if ( this.article.keywords === \"\" ) {\n        this.$message.error(\"请填写文章关键字\")\n        return false\n      }\n      if ( this.article.description === \"\" ) {\n        this.$message.error(\"请填写文章描述\")\n        return false\n      }\n      if ( this.article.mdContent === \"\") {\n        this.$message.error(\"请填写文章内容\")\n        return false\n      }\n    },\n\n    async saveData () {\n      const validateRes = this.validate()\n      if ( validateRes === false ) {\n        return\n      }\n      let res = {}\n      if ( !this.id ) {\n        let keywords = this.article.keywordsStr.split(\",\")\n        keywords = [...new Set(keywords)]\n        this.article.keywords = keywords\n        res = await req.post(\n          \"/api/article/create\",\n          this.article\n        )\n      } else {\n        let keywords = this.article.keywordsStr.split(\",\")\n        keywords = [...new Set(keywords)]\n        let data  = {\n          id: this.article._id,\n          categoryId: this.article.categoryId,\n          type: this.article.type,\n          poster: this.article.poster,\n          title: this.article.title,\n          keywords: keywords,\n          description: this.article.description,\n          mdContent: this.article.mdContent\n        }\n        res = await req.post(\n          \"/api/article/update\",\n          data\n        )\n      }\n      let msg = res.data.msg\n      if (res.data.code === 1) {\n        if (typeof msg === \"object\") {\n          this.$message.error(JSON.stringify(msg))\n        } else {\n          this.$message.error(msg)\n        }\n      } else {\n        this.$message.success(msg)\n        this.closeMe()\n      }\n    },\n\n    async getCategory(callback) {\n      let res = await req.get(\"/api/category/list\")\n      let categoryList = []\n      let data = res.data.data\n      data.forEach(item => {\n        categoryList.push({\n          id: item._id,\n          name: item.name\n        })\n      })\n      this.categoryList = categoryList\n      if (typeof callback === \"function\") {\n        callback()\n      }\n    },\n\n    closeMe() {\n      store.set(\"draft-article\", null)\n      setTimeout(() => {\n        this.$store.dispatch('d2admin/page/close', {\n          tagName: 'article-edit',\n          vm: this\n        })\n      }, 1000)\n    },\n\n    loaded() {\n      setTimeout(()=>{\n        this.loading = false;\n      }, 1000);\n    }\n  }\n}\n</script>\n<style>\n.cm-spell-error {\n  background: none !important\n}\n</style>\n\n<style lang=\"scss\" scoped>\n.mde {\n  margin-bottom: -16px\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./edit.vue?vue&type=template&id=2fb3919e&scoped=true&\"\nimport script from \"./edit.vue?vue&type=script&lang=js&\"\nexport * from \"./edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./edit.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./edit.vue?vue&type=style&index=1&id=2fb3919e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2fb3919e\",\n  null\n  \n)\n\ncomponent.options.__file = \"edit.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=1&id=2fb3919e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=1&id=2fb3919e&lang=scss&scoped=true&\""],"sourceRoot":""}
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f6f"],{"02e0":function(e,t,i){"use strict";var n=i("d47d"),o=i.n(n);o.a},c665:function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}i.d(t,"a",function(){return n})},c885:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("d2-container",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[i("template",{slot:"header"},[e._v("网站配置")]),i("div",{staticClass:"form"},[i("el-form",{ref:"form",attrs:{model:e.websiteObj.info,"label-width":"120px"}},[i("el-form-item",{attrs:{label:"首页标题"}},[i("el-input",{attrs:{placeholder:"一般不超过80个字符"},model:{value:e.websiteObj.info.title,callback:function(t){e.$set(e.websiteObj.info,"title",t)},expression:"websiteObj.info.title"}})],1),i("el-form-item",{attrs:{label:"副标题"}},[i("el-input",{attrs:{placeholder:"一般不超过80个字符"},model:{value:e.websiteObj.info.subtitle,callback:function(t){e.$set(e.websiteObj.info,"subtitle",t)},expression:"websiteObj.info.subtitle"}})],1),i("el-form-item",{attrs:{label:"首页关键字"}},[i("el-input",{attrs:{placeholder:"请用英文逗号分割，一般不超过100个字符"},model:{value:e.websiteObj.info.keywords,callback:function(t){e.$set(e.websiteObj.info,"keywords",t)},expression:"websiteObj.info.keywords"}})],1),i("el-form-item",{attrs:{label:"标题分割符"}},[i("el-input",{attrs:{placeholder:"如：- "},model:{value:e.websiteObj.info.separator,callback:function(t){e.$set(e.websiteObj.info,"separator",t)},expression:"websiteObj.info.separator"}})],1),i("el-form-item",{attrs:{label:"icp备案信息"}},[i("el-input",{model:{value:e.websiteObj.info.icp,callback:function(t){e.$set(e.websiteObj.info,"icp",t)},expression:"websiteObj.info.icp"}})],1),i("el-form-item",{attrs:{label:"站点logo地址"}},[i("el-input",{model:{value:e.websiteObj.info.logo,callback:function(t){e.$set(e.websiteObj.info,"logo",t)},expression:"websiteObj.info.logo"}})],1),i("el-form-item",{attrs:{label:"站点图标地址"}},[i("el-input",{model:{value:e.websiteObj.info.favicon,callback:function(t){e.$set(e.websiteObj.info,"favicon",t)},expression:"websiteObj.info.favicon"}})],1),i("el-form-item",{attrs:{label:"首页描述"}},[i("el-input",{attrs:{type:"textarea",rows:4,placeholder:"一般不超过200个字符"},model:{value:e.websiteObj.info.description,callback:function(t){e.$set(e.websiteObj.info,"description",t)},expression:"websiteObj.info.description"}})],1),i("el-form-item",{attrs:{label:"关于网站"}},[i("el-input",{attrs:{type:"textarea",rows:5,placeholder:"关于网站/网站介绍，不限字符数量，一般显示在主题模版底部或者侧边栏"},model:{value:e.websiteObj.info.about,callback:function(t){e.$set(e.websiteObj.info,"about",t)},expression:"websiteObj.info.about"}})],1),i("el-form-item",{attrs:{label:"网站底部代码"}},[i("el-input",{attrs:{type:"textarea",rows:4},model:{value:e.websiteObj.info.footHTML,callback:function(t){e.$set(e.websiteObj.info,"footHTML",t)},expression:"websiteObj.info.footHTML"}})],1),i("div",{staticClass:"title"},[e._v("\n        友情链接管理：\n      ")]),i("el-collapse",e._l(e.websiteObj.info.friendLinks,function(t,n){return i("el-collapse-item",{key:n,attrs:{title:t.name,name:n}},[i("el-form-item",{attrs:{label:"链接名称"}},[i("el-input",{attrs:{placeholder:"输入链接名称"},model:{value:t.name,callback:function(i){e.$set(t,"name",i)},expression:"link.name"}})],1),i("el-form-item",{attrs:{label:"logo"}},[i("el-input",{attrs:{placeholder:"logo地址"},model:{value:t.logo,callback:function(i){e.$set(t,"logo",i)},expression:"link.logo"}})],1),i("el-form-item",{attrs:{label:"链接url"}},[i("el-input",{attrs:{placeholder:"输入链接url"},model:{value:t.url,callback:function(i){e.$set(t,"url",i)},expression:"link.url"}})],1),i("el-form-item",{attrs:{label:"操作"}},[i("el-button",{attrs:{type:"danger"},on:{click:function(t){e.websiteObj.info.friendLinks.splice(n,1)}}},[e._v("删除此链接")])],1)],1)})),i("el-form-item",{staticStyle:{"margin-top":"30px"},attrs:{label:"操作"}},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.websiteObj.info.friendLinks.push({name:"新链接",logo:"",url:""})}}},[e._v("新增链接")])],1)],1)],1),i("template",{slot:"footer"},[i("el-button",{attrs:{type:"success"},on:{click:function(t){e.saveData()}}},[e._v("保存")])],1)],2)},o=[],a=(i("96cf"),i("3040")),l=(i("c665"),i("0c6d")),s={name:"websiteIndex",data:function(){return{loading:!0,websiteObj:{_id:"",info:{}}}},mounted:function(){this.getData()},methods:{deleteItem:function(e){1===this.configObj.info.domains.length?this.$message.error("请至少保留一条"):this.configObj.info.domains.splice(e,1)},getData:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["b"].get("/api/config?alias=website");case 2:t=e.sent,this.websiteObj=t.data.data,this.loaded();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),saveData:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["b"].post("/api/config",this.websiteObj);case 2:t=e.sent,0===t.data.code&&this.$message({message:"保存成功",type:"success"});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),loaded:function(){var e=this;setTimeout(function(){e.loading=!1},1e3)}}},r=s,c=(i("02e0"),i("2877")),b=Object(c["a"])(r,n,o,!1,null,"2e3d9352",null);b.options.__file="index.vue";t["default"]=b.exports},d47d:function(e,t,i){}}]);
//# sourceMappingURL=chunk-5f6f.0aa9d051.js.map
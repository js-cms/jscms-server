(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-32ca"],{b0dc:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("d2-container",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[n("template",{slot:"header"},[t._v("域名配置")]),t._l(t.configObj.info.domains,function(e,o){return n("el-form",{key:o,attrs:{inline:!0,model:e}},[n("el-form-item",{attrs:{label:"协议"}},[n("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"输入协议"},model:{value:e.protocol,callback:function(n){t.$set(e,"protocol",n)},expression:"domain.protocol"}})],1),n("el-form-item",{attrs:{label:"域名"}},[n("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"输入域名"},model:{value:e.host,callback:function(n){t.$set(e,"host",n)},expression:"domain.host"}})],1),n("el-form-item",{attrs:{label:"端口"}},[n("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"输入端口"},model:{value:e.port,callback:function(n){t.$set(e,"port",n)},expression:"domain.port"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"danger",round:""},on:{click:function(e){t.deleteItem(o)}}},[t._v("删除")])],1)],1)}),n("template",{slot:"footer"},[n("el-button",{attrs:{type:"success"},on:{click:function(e){t.saveData()}}},[t._v("保存")]),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.newDomain()}}},[t._v("增加一条")])],1)],2)},i=[],a=(n("96cf"),n("3040")),r=n("c665"),s=n("0c6d"),c=function t(){Object(r["a"])(this,t),this.protocol="http",this.host="",this.port="80"},l={name:"domainIndex",data:function(){return{loading:!0,configObj:{_id:"",info:{domains:[new c]}}}},mounted:function(){this.getData()},methods:{newDomain:function(){this.configObj.info.domains.push(new c)},deleteItem:function(t){1===this.configObj.info.domains.length?this.$message.error("请至少保留一条"):this.configObj.info.domains.splice(t,1)},getData:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s["b"].get("/api/config?alias=domainBase");case 2:e=t.sent,this.configObj=e.data.data,this.loaded();case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),saveData:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s["b"].post("/api/config",this.configObj);case 2:e=t.sent,0===e.data.code&&this.$message({message:"保存成功",type:"success"});case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),loaded:function(){var t=this;setTimeout(function(){t.loading=!1},1e3)}}},u=l,d=n("2877"),f=Object(d["a"])(u,o,i,!1,null,null,null);f.options.__file="index.vue";e["default"]=f.exports},c665:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return o})}}]);
//# sourceMappingURL=chunk-32ca.941755aa.js.map
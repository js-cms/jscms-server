{"version":3,"sources":["webpack:///./src/pages/page/list.vue?0e9e","webpack:///./src/pages/page/list.vue?3d32","webpack:///./src/libs/model.js","webpack:///src/pages/page/list.vue","webpack:///./src/pages/page/list.vue?a943","webpack:///./src/pages/page/list.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_list_vue_vue_type_style_index_0_id_209a3779_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_list_vue_vue_type_style_index_0_id_209a3779_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","slot","_v","staticClass","attrs","title","dialogPage","type","visible","isShow","width","on","update:visible","$event","$set","model","page","label-width","_l","field","key","index","formRequired","label","placeholder","callback","$$v","_e","autosize","minRows","click","dialogPageHandleCertain","staticStyle","data","list","tableField","prop","fixed","scopedSlots","_u","fn","scope","size","viewWeb","row","showChangePageDialog","color","showDeleteAsking","$index","background","layout","current-page","pageNumber","page-size","pageSize","total","totalCount","current-change","onPageChange","staticRenderFns","getModel","modelObject","Model","hasOwnProperty","element","default","getValues","obj","formField","setValues","checkValues","result","undefined","msg","listvue_type_script_lang_js_","id","loading","Page","tableModel","mounted","_this","loadModel","getPageList","methods","arguments","length","_id","deletePage","_deletePage","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","successFn","res","wrap","_context","prev","next","request","post","sent","code","$message","message","error","stop","_x","_x2","apply","_getPageList","_callee2","_context2","get","concat","loaded","savePage","_savePage","_callee3","_context3","_x3","_x4","updatePage","_updatePage","_callee4","params","_context4","assign","_x5","_x6","_loadModel","_callee5","modelName","_model","_context5","console","log","_x7","_x8","dialogPageFormCheck","alias","_this2","checkRes","reload","_this3","$confirm","confirmButtonText","cancelButtonText","then","splice","_this4","setTimeout","window","open","num","getData","filter","_this5","page_listvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"8GAAA,IAAAA,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAAqjBE,EAAG,qECAxjB,IAAAE,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,gBAA0BE,aAAaC,KAAA,UAAAC,QAAA,YAAAC,MAAAT,EAAA,QAAAU,WAAA,cAA8EN,EAAA,YAAiBO,KAAA,WAAcX,EAAAY,GAAA,aAAAR,EAAA,OAAgCS,YAAA,SAAmBT,EAAA,aAAkBU,OAAOC,OAAA,IAAAf,EAAAgB,WAAAC,KAAA,gBAAAC,QAAAlB,EAAAgB,WAAAG,OAAAC,MAAA,OAAuGC,IAAKC,iBAAA,SAAAC,GAAkCvB,EAAAwB,KAAAxB,EAAAgB,WAAA,SAAAO,OAA6CnB,EAAA,OAAYS,YAAA,aAAuBT,EAAA,WAAgBU,OAAOW,MAAAzB,EAAAgB,WAAAU,KAAAC,cAAA,WAAmD3B,EAAA4B,GAAA5B,EAAAgB,WAAA,cAAAa,EAAAC,EAAAC,GAAyD,YAAAF,EAAAG,aAAA5B,EAAA,gBAAuD0B,IAAAC,EAAAjB,OAAiBmB,MAAAJ,EAAAtB,QAAoB,eAAAsB,EAAAZ,KAAAb,EAAA,YAA+CU,OAAOoB,YAAAL,EAAAK,aAAgCT,OAAQhB,MAAAoB,EAAA,MAAAM,SAAA,SAAAC,GAA6CpC,EAAAwB,KAAAK,EAAA,QAAAO,IAA8B1B,WAAA,iBAA2BV,EAAAqC,KAAA,mBAAAR,EAAAZ,KAAAb,EAAA,YAA4DU,OAAOG,KAAA,WAAAqB,UAA8BC,QAAA,IAAYL,YAAAL,EAAAK,aAAiCT,OAAQhB,MAAAoB,EAAA,MAAAM,SAAA,SAAAC,GAA6CpC,EAAAwB,KAAAK,EAAA,QAAAO,IAA8B1B,WAAA,iBAA2BV,EAAAqC,MAAA,GAAArC,EAAAqC,SAAyB,OAAAjC,EAAA,QAAqBS,YAAA,gBAAAC,OAAmCH,KAAA,UAAgBA,KAAA,WAAeP,EAAA,aAAkBiB,IAAImB,MAAA,SAAAjB,GAAyBvB,EAAAgB,WAAAG,QAAA,MAA8BnB,EAAAY,GAAA,SAAAR,EAAA,aAAkCU,OAAOG,KAAA,WAAiBI,IAAKmB,MAAA,SAAAjB,GAAyBvB,EAAAyC,8BAAgCzC,EAAAY,GAAA,mBAAAR,EAAA,OAAsCS,YAAA,cAAwBT,EAAA,YAAiBsC,aAAatB,MAAA,QAAeN,OAAQ6B,KAAA3C,EAAA4C,QAAiB5C,EAAA4B,GAAA5B,EAAA,oBAAA6B,EAAAC,EAAAC,GAAoD,YAAAF,EAAAgB,WAAAzC,EAAA,mBAA0D0B,IAAAC,EAAAjB,OAAiBgC,KAAAhB,EAAAG,MAAAJ,EAAAtB,QAA+BP,EAAAqC,QAAYjC,EAAA,mBAAwBU,OAAOiC,MAAA,QAAAd,MAAA,KAAAb,MAAA,OAA2C4B,YAAAhD,EAAAiD,KAAsBnB,IAAA,UAAAoB,GAAA,SAAAC,GAAiC,OAAA/C,EAAA,aAAwBU,OAAOG,KAAA,OAAAmC,KAAA,SAA6B/B,IAAKmB,MAAA,SAAAjB,GAAyBvB,EAAAqD,QAAAF,EAAAG,SAAyBtD,EAAAY,GAAA,QAAAR,EAAA,aAAiCU,OAAOG,KAAA,OAAAmC,KAAA,SAA6B/B,IAAKmB,MAAA,SAAAjB,GAAyBvB,EAAAuD,qBAAA,EAAAJ,EAAAG,SAAyCtD,EAAAY,GAAA,QAAAR,EAAA,aAAiCsC,aAAac,MAAA,OAAc1C,OAAQG,KAAA,OAAAmC,KAAA,SAA6B/B,IAAKmB,MAAA,SAAAjB,GAAyBvB,EAAAyD,iBAAAN,EAAAO,OAAAP,EAAAG,SAAgDtD,EAAAY,GAAA,gBAAsB,OAAAR,EAAA,OAAoBS,YAAA,oBAA8BT,EAAA,iBAAsBU,OAAO6C,WAAA,GAAAC,OAAA,oBAAAC,eAAA7D,EAAA0B,KAAAoC,WAAAC,YAAA/D,EAAA0B,KAAAsC,SAAAC,MAAAjE,EAAA0B,KAAAwC,YAA0I7C,IAAK8C,iBAAAnE,EAAAoE,iBAAmC,GAAAhE,EAAA,YAAqBO,KAAA,WAAcP,EAAA,aAAkBU,OAAOG,KAAA,WAAiBI,IAAKmB,MAAA,SAAAjB,GAAyBvB,EAAAuD,2BAA6BvD,EAAAY,GAAA,qBACvuFyD,6DCCe5C,GACX6C,SAAU,SAAUC,GAChB,IAAIC,EAAQ,WACR,IAAK,IAAM1C,KAAOyC,EACd,GAAIA,EAAYE,eAAe3C,GAAM,CACjC,IAAM4C,EAAUH,EAAYzC,GAC5B7B,KAAK6B,GAAO4C,EACZzE,KAAK6B,GAAKI,YAAc,MAAQwC,EAAQnE,KACxCN,KAAK6B,GAAKrB,MAAQiE,EAAQC,SAAW,GAI7C1E,KAAK2E,UAAY,WACb,IAAIC,KACJ,IAAK,IAAM/C,KAAO7B,KACd,GAAIA,KAAKwE,eAAe3C,GAAM,CAC1B,IAAM4C,EAAUzE,KAAK6B,GAChB4C,IAAiC,IAAtBA,EAAQI,YACpBD,EAAI/C,GAAO4C,EAAQjE,OAI/B,OAAOoE,GAGX5E,KAAK8E,UAAY,SAASF,GACtB,IAAK,IAAM/C,KAAO7B,KACd,GAAIA,KAAKwE,eAAe3C,GAAM,CAC1B,IAAM4C,EAAUzE,KAAK6B,GAChB4C,IAAiC,IAAtBA,EAAQI,YACpBJ,EAAQjE,MAAQoE,EAAI/C,MAMpC7B,KAAK+E,YAAc,WACf,IAAIC,GAAS,EACb,IAAK,IAAMnD,KAAO7B,KACd,GAAIA,KAAKwE,eAAe3C,GAAM,CAC1B,IAAM4C,EAAUzE,KAAK6B,GACrB,GAAK4C,IAAiC,IAAtBA,EAAQI,YAA+C,IAAzBJ,EAAQ1C,oBAC3BkD,IAAlBR,EAAQjE,OAAyC,KAAlBiE,EAAQjE,OAAkC,OAAlBiE,EAAQjE,OAAiB,CACjFwE,GACIE,IAAKT,EAAQnE,KAAO,QAExB,OAKhB,OAAO0E,IAIf,OAAOT,ICiBfY,GACA7E,KAAA,WAEAoC,KAHA,WAIA,OACA0C,GAAA,GACAC,SAAA,EACAC,KAAA,GACAC,cACAxE,YACAC,KAAA,EACAoE,GAAA,GACAlE,QAAA,EACAO,SAEAA,MACAsC,SAAA,GACAF,WAAA,EACAI,WAAA,KAEAtB,UAIA6C,QAxBA,WAwBA,IAAAC,EAAAzF,KACAA,KAAA0F,UAAA,kBACAD,EAAAE,iBAIAC,SACAtC,qBADA,WACA,IAAAtC,EAAA6E,UAAAC,OAAA,QAAAb,IAAAY,UAAA,GAAAA,UAAA,KAAAjB,EAAAiB,UAAAC,OAAA,EAAAD,UAAA,QAAAZ,EAGA,GAFAjF,KAAAe,WAAAC,OACAhB,KAAAe,WAAAG,QAAA,EACA,IAAAF,EACAhB,KAAAe,WAAAU,KAAA,IAAAzB,KAAAsF,SACA,CACAtF,KAAAe,WAAAqE,GAAAR,EAAAmB,IACA,IAAAtE,EAAA,IAAAzB,KAAAsF,KACA7D,EAAAqD,UAAAF,GACA5E,KAAAe,WAAAU,SAIAuE,WAdA,eAAAC,EAAAC,OAAAC,EAAA,KAAAD,CAAAE,mBAAAC,KAAA,SAAAC,EAcAlB,EAAAmB,GAdA,IAAAC,EAAA,OAAAJ,mBAAAK,KAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EAeAC,EAAA,KAAAC,KAAA,oBACA1B,OAhBA,OAeAoB,EAfAE,EAAAK,KAkBA,IAAAP,EAAA9D,KAAAsE,MACAhH,KAAAiH,UACAjG,KAAA,UACAkG,QAAA,UAEA,oBAAAX,GACAA,KAGAvG,KAAAiH,SAAAE,MAAAX,EAAA9D,KAAAwC,KA3BA,wBAAAwB,EAAAU,SAAAd,EAAAtG,SAAA,gBAAAqH,EAAAC,GAAA,OAAArB,EAAAsB,MAAAvH,KAAA6F,YAAA,GA+BAF,YA/BA,eAAA6B,EAAAtB,OAAAC,EAAA,KAAAD,CAAAE,mBAAAC,KAAA,SAAAoB,IAAA,IAAAjB,EAAA7D,EAAA,OAAAyD,mBAAAK,KAAA,SAAAiB,GAAA,eAAAA,EAAAf,KAAAe,EAAAd,MAAA,cAAAc,EAAAd,KAAA,EAgCAC,EAAA,KAAAc,IAAA,2BAAAC,OACA5H,KAAAyB,KAAAsC,SADA,gBAAA6D,OACA5H,KAAAyB,KACAoC,WAAA,IAlCA,OAgCA2C,EAhCAkB,EAAAX,KAoCApE,EAAA6D,EAAA9D,UAAAC,KACA3C,KAAAyB,KAAAwC,WAAAuC,EAAA9D,UAAAsB,MACAhE,KAAA2C,OACA3C,KAAA6H,SAvCA,wBAAAH,EAAAN,SAAAK,EAAAzH,SAAA,yBAAAwH,EAAAD,MAAAvH,KAAA6F,YAAA,GA0CAiC,SA1CA,eAAAC,EAAA7B,OAAAC,EAAA,KAAAD,CAAAE,mBAAAC,KAAA,SAAA2B,EA0CAtF,EAAA6D,GA1CA,IAAAC,EAAA,OAAAJ,mBAAAK,KAAA,SAAAwB,GAAA,eAAAA,EAAAtB,KAAAsB,EAAArB,MAAA,cAAAqB,EAAArB,KAAA,EA2CAC,EAAA,KAAAC,KAAA,mBAAApE,GA3CA,OA2CA8D,EA3CAyB,EAAAlB,KA4CA,IAAAP,EAAA9D,KAAAsE,MACAhH,KAAAiH,UACAC,QAAA,OACAlG,KAAA,YAEAhB,KAAA2F,cACA,oBAAAY,GACAA,KAGAvG,KAAAiH,UACAC,QAAAV,EAAA9D,KAAAwC,IACAlE,KAAA,UAxDA,wBAAAiH,EAAAb,SAAAY,EAAAhI,SAAA,gBAAAkI,EAAAC,GAAA,OAAAJ,EAAAR,MAAAvH,KAAA6F,YAAA,GA6DAuC,WA7DA,eAAAC,EAAAnC,OAAAC,EAAA,KAAAD,CAAAE,mBAAAC,KAAA,SAAAiC,EA6DA5F,EAAA6D,GA7DA,IAAAgC,EAAA/B,EAAA,OAAAJ,mBAAAK,KAAA,SAAA+B,GAAA,eAAAA,EAAA7B,KAAA6B,EAAA5B,MAAA,cA8DA2B,EAAArC,OAAAuC,OAAA/F,GACA0C,GAAApF,KAAAe,WAAAqE,KA/DAoD,EAAA5B,KAAA,EAiEAC,EAAA,KAAAC,KAAA,mBAAAyB,GAjEA,OAiEA/B,EAjEAgC,EAAAzB,KAkEA,IAAAP,EAAA9D,KAAAsE,MACAhH,KAAAiH,UACAC,QAAA,OACAlG,KAAA,YAEA,oBAAAuF,GACAA,KAGAvG,KAAAiH,UACAC,QAAAV,EAAA9D,KAAAwC,IACAlE,KAAA,UA7EA,wBAAAwH,EAAApB,SAAAkB,EAAAtI,SAAA,gBAAA0I,EAAAC,GAAA,OAAAN,EAAAd,MAAAvH,KAAA6F,YAAA,GAkFAH,UAlFA,eAAAkD,EAAA1C,OAAAC,EAAA,KAAAD,CAAAE,mBAAAC,KAAA,SAAAwC,EAkFAC,EAAA5G,GAlFA,IAAAsE,EAAAuC,EAAA,OAAA3C,mBAAAK,KAAA,SAAAuC,GAAA,eAAAA,EAAArC,KAAAqC,EAAApC,MAAA,cAAAoC,EAAApC,KAAA,EAmFAC,EAAA,KAAAc,IAAA,mBAAAC,OAAAkB,IAnFA,OAmFAtC,EAnFAwC,EAAAjC,KAoFAgC,EAAAvC,EAAA9D,UAAAlB,MACAxB,KAAAsF,KAAA9D,EAAA6C,SAAA0E,GACA/I,KAAAuF,WAAA,IAAAvF,KAAAsF,KACA2D,QAAAC,IAAAlJ,KAAAuF,YACA,oBAAArD,GACAA,IAzFA,wBAAA8G,EAAA5B,SAAAyB,EAAA7I,SAAA,gBAAAmJ,EAAAC,GAAA,OAAAR,EAAArB,MAAAvH,KAAA6F,YAAA,GA6FAwD,oBA7FA,WA8FA,WAAArJ,KAAAe,WAAAU,KAAAnB,MACAN,KAAAiH,SAAAE,MAAA,WACA,GAEA,KAAAnH,KAAAe,WAAAU,KAAA6H,QACAtJ,KAAAiH,SAAAE,MAAA,WACA,IAKA3E,wBAzGA,WAyGA,IAAA+G,EAAAvJ,KACAyB,EAAAzB,KAAAe,WAAAU,KACA+H,EAAA/H,EAAAsD,eACA,IAAAyE,EAIA,IAAAxJ,KAAAe,WAAAC,KACAhB,KAAA8H,SAAArG,EAAAkD,YAAA,WACA4E,EAAAxI,WAAAG,QAAA,IAGAlB,KAAAoI,WAAA3G,EAAAkD,YAAA,WACA4E,EAAAxI,WAAAG,QAAA,EACAqI,EAAAE,WAVAzJ,KAAAiH,SAAAE,MAAAqC,EAAAtE,MAeA1B,iBA5HA,SA4HA1B,EAAA8C,GAAA,IAAA8E,EAAA1J,KACAA,KAAA2J,SAAA,qBACAC,kBAAA,KACAC,iBAAA,KACA7I,KAAA,YACA8I,KAAA,WACAJ,EAAA1D,WAAApB,EAAAmB,IAAA,WACA2D,EAAA/G,KAAAoH,OAAAjI,EAAA,QAKA2H,OAxIA,WAwIA,IAAAO,EAAAhK,KACAA,KAAA2C,QACA3C,KAAAqF,SAAA,EACA4E,WAAA,WACAD,EAAArE,eACA,MAGAvC,QAhJA,SAgJAwB,GACAsF,OAAAC,KAAA,GAAAvC,OAAAf,EAAA,cAAAe,OAAAhD,EAAA0E,MAAA,WAGAnF,aApJA,SAoJAiG,GACApK,KAAAyB,KAAAoC,WAAAuG,EACApK,KAAAqK,QAAArK,KAAAsK,SAGAzC,OAzJA,WAyJA,IAAA0C,EAAAvK,KACAiK,WAAA,WACAM,EAAAlF,SAAA,GACA,QCpQoSmF,EAAA,0BCQpSC,EAAgBvE,OAAAwE,EAAA,KAAAxE,CACdsE,EACA1K,EACAsE,GACF,EACA,KACA,WACA,MAIAqG,EAAAE,QAAAC,OAAA,WACeC,EAAA,WAAAJ","file":"js/chunk-262a.a2b2bb70.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&id=209a3779&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&id=209a3779&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('d2-container',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('template',{slot:\"header\"},[_vm._v(\"自定义页面列表\")]),_c('div',{staticClass:\"form\"},[_c('el-dialog',{attrs:{\"title\":(_vm.dialogPage.type === 1 ? '新建' : '修改') + '页面',\"visible\":_vm.dialogPage.isShow,\"width\":\"90%\"},on:{\"update:visible\":function($event){_vm.$set(_vm.dialogPage, \"isShow\", $event)}}},[_c('div',{staticClass:\"pop-body\"},[_c('el-form',{attrs:{\"model\":_vm.dialogPage.page,\"label-width\":\"120px\"}},[_vm._l((_vm.dialogPage.page),function(field,key,index){return [(field.formRequired===true)?_c('el-form-item',{key:index,attrs:{\"label\":field.name}},[(field.type === 'input-text')?_c('el-input',{attrs:{\"placeholder\":field.placeholder},model:{value:(field.value),callback:function ($$v) {_vm.$set(field, \"value\", $$v)},expression:\"field.value\"}}):_vm._e(),(field.type === 'input-textarea')?_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 20},\"placeholder\":field.placeholder},model:{value:(field.value),callback:function ($$v) {_vm.$set(field, \"value\", $$v)},expression:\"field.value\"}}):_vm._e()],1):_vm._e()]})],2)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogPage.isShow=false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogPageHandleCertain()}}},[_vm._v(\"确 定\")])],1)])],1),_c('div',{staticClass:\"list-warp\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.list}},[_vm._l((_vm.tableModel),function(field,key,index){return [(field.tableField === true)?_c('el-table-column',{key:index,attrs:{\"prop\":key,\"label\":field.name}}):_vm._e()]}),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.viewWeb(scope.row)}}},[_vm._v(\"查看\")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.showChangePageDialog(2, scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{staticStyle:{\"color\":\"red\"},attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.showDeleteAsking(scope.$index, scope.row)}}},[_vm._v(\"删除\")])]}}])})],2)],1),_c('div',{staticClass:\"pagination-warp\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"current-page\":_vm.page.pageNumber,\"page-size\":_vm.page.pageSize,\"total\":_vm.page.totalCount},on:{\"current-change\":_vm.onPageChange}})],1),_c('template',{slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.showChangePageDialog()}}},[_vm._v(\"新增一个页面\")])],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\nexport default {\n    getModel: function (modelObject) {\n        let Model = function () {\n            for (const key in modelObject) {\n                if (modelObject.hasOwnProperty(key)) {\n                    const element = modelObject[key];\n                    this[key] = element;\n                    this[key].placeholder = \"请输入\" + element.name;\n                    this[key].value = element.default || '';\n                }\n            }\n\n            this.getValues = function() {\n                let obj = {};\n                for (const key in this) {\n                    if (this.hasOwnProperty(key)) {\n                        const element = this[key];\n                        if ( element && element.formField === true ) {\n                            obj[key] = element.value;\n                        }\n                    }\n                }\n                return obj;\n            }\n\n            this.setValues = function(obj) {\n                for (const key in this) {\n                    if (this.hasOwnProperty(key)) {\n                        const element = this[key];\n                        if ( element && element.formField === true ) {\n                            element.value = obj[key];\n                        }\n                    }\n                }\n            }\n\n            this.checkValues = function() {\n                let result = true;\n                for (const key in this) {\n                    if (this.hasOwnProperty(key)) {\n                        const element = this[key];\n                        if ( element && element.formField === true && element.formRequired === true ) {\n                            if ( element.value === undefined || element.value === \"\" || element.value === null ) {\n                                result = {\n                                    msg: element.name + \"不能为空\"\n                                }\n                                break;\n                            }\n                        }\n                    }\n                }\n                return result;\n            }\n        }\n\n        return Model;\n    }\n}\n","<template>\n  <d2-container v-loading=\"loading\">\n    <template slot=\"header\">自定义页面列表</template>\n    <div class=\"form\">\n      <el-dialog\n        :title=\"(dialogPage.type === 1 ? '新建' : '修改') + '页面'\"\n        :visible.sync=\"dialogPage.isShow\"\n        width=\"90%\"\n      >\n        <div class=\"pop-body\">\n          <el-form :model=\"dialogPage.page\" label-width=\"120px\">\n            <template v-for=\"(field, key, index) in dialogPage.page\">\n              <el-form-item\n                :label=\"field.name\"\n                :key=\"index\"\n                v-if=\"field.formRequired===true\"\n              >\n                <el-input v-if=\"field.type === 'input-text'\" v-model=\"field.value\" :placeholder=\"field.placeholder\"></el-input>\n                <el-input\n                  v-if=\"field.type === 'input-textarea'\"\n                  type=\"textarea\"\n                  :autosize=\"{minRows: 20}\"\n                  v-model=\"field.value\"\n                  :placeholder=\"field.placeholder\"\n                ></el-input>\n              </el-form-item>\n            </template>\n          </el-form>\n        </div>\n        <span slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"dialogPage.isShow=false\">取 消</el-button>\n          <el-button type=\"primary\" @click=\"dialogPageHandleCertain()\">确 定</el-button>\n        </span>\n      </el-dialog>\n    </div>\n    <div class=\"list-warp\">\n      <el-table :data=\"list\" style=\"width: 100%\">\n        <template v-for=\"(field, key, index) in tableModel\" >\n          <el-table-column v-if=\"field.tableField === true\" :key=\"index\" :prop=\"key\" :label=\"field.name\"></el-table-column>\n        </template>\n        <el-table-column fixed=\"right\" label=\"操作\" width=\"150\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"text\" size=\"small\" @click=\"viewWeb(scope.row)\">查看</el-button>\n            <el-button type=\"text\" size=\"small\" @click=\"showChangePageDialog(2, scope.row)\">编辑</el-button>\n            <el-button\n              type=\"text\"\n              size=\"small\"\n              style=\"color: red;\"\n              @click=\"showDeleteAsking(scope.$index, scope.row)\"\n            >删除</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n    <div class=\"pagination-warp\">\n      <el-pagination\n        background\n        layout=\"prev, pager, next\"\n        :current-page=\"page.pageNumber\"\n        :page-size=\"page.pageSize\"\n        @current-change=\"onPageChange\"\n        :total=\"page.totalCount\"\n      ></el-pagination>\n    </div>\n    <template slot=\"footer\">\n      <el-button type=\"primary\" @click=\"showChangePageDialog()\">新增一个页面</el-button>\n    </template>\n  </d2-container>\n</template>\n\n<script>\nimport { req, baseURL } from \"@/api/request\";\nimport model from \"@/libs/model\";\n\nexport default {\n  name: \"pageList\",\n\n  data() {\n    return {\n      id: \"\",\n      loading: true,\n      Page: \"\",\n      tableModel: {},\n      dialogPage: {\n        type: 1,\n        id: \"\",\n        isShow: false,\n        page: {}\n      },\n      page: {\n        pageSize: 10,\n        pageNumber: 1,\n        totalCount: 100\n      },\n      list: []\n    };\n  },\n\n  mounted() {\n    this.loadModel(\"Page\", () => {\n      this.getPageList();\n    });\n  },\n\n  methods: {\n    showChangePageDialog(type = 1, obj) {\n      this.dialogPage.type = type;\n      this.dialogPage.isShow = true;\n      if (type === 1) {\n        this.dialogPage.page = new this.Page();\n      } else {\n        this.dialogPage.id = obj._id;\n        let page = new this.Page();\n        page.setValues(obj);\n        this.dialogPage.page = page;\n      }\n    },\n\n    async deletePage(id, successFn) {\n      let res = await req.post(\"/api/page/delete\", {\n        id: id\n      });\n      if (res.data.code === 0) {\n        this.$message({\n          type: \"success\",\n          message: \"删除成功!\"\n        });\n        if (typeof successFn === \"function\") {\n          successFn();\n        }\n      } else {\n        this.$message.error(res.data.msg);\n      }\n    },\n\n    async getPageList() {\n      let res = await req.get(\n        `/api/page/list?pageSize=${this.page.pageSize}&pageNumber=${this.page\n          .pageNumber - 1}`\n      );\n      let list = res.data.data.list;\n      this.page.totalCount = res.data.data.total;\n      this.list = list;\n      this.loaded();\n    },\n\n    async savePage(data, successFn) {\n      let res = await req.post(\"/api/page/create\", data);\n      if (res.data.code === 0) {\n        this.$message({\n          message: \"保存成功\",\n          type: \"success\"\n        });\n        this.getPageList();\n        if (typeof successFn === \"function\") {\n          successFn();\n        }\n      } else {\n        this.$message({\n          message: res.data.msg,\n          type: \"error\"\n        });\n      }\n    },\n\n    async updatePage(data, successFn) {\n      let params = Object.assign(data, {\n        id: this.dialogPage.id\n      })\n      let res = await req.post(\"/api/page/update\", params);\n      if (res.data.code === 0) {\n        this.$message({\n          message: \"更新成功\",\n          type: \"success\"\n        });\n        if (typeof successFn === \"function\") {\n          successFn();\n        }\n      } else {\n        this.$message({\n          message: res.data.msg,\n          type: \"error\"\n        });\n      }\n    },\n\n    async loadModel(modelName, callback) {\n      let res = await req.get(`/api/model?name=${modelName}`);\n      let _model = res.data.data.model;\n      this.Page = model.getModel(_model);\n      this.tableModel = new this.Page();\n      console.log(this.tableModel);\n      if (typeof callback === \"function\") {\n        callback();\n      }\n    },\n\n    dialogPageFormCheck() {\n      if (this.dialogPage.page.name === \"\") {\n        this.$message.error(\"页面名称必填\");\n        return false;\n      }\n      if (this.dialogPage.page.alias === \"\") {\n        this.$message.error(\"页面别名必填\");\n        return false;\n      }\n      return true;\n    },\n\n    dialogPageHandleCertain() {\n      let page = this.dialogPage.page;\n      let checkRes = page.checkValues();\n      if ( checkRes !== true ) {\n        this.$message.error(checkRes.msg);\n        return;\n      }\n      if (this.dialogPage.type === 1) {\n        this.savePage(page.getValues(), () => {\n          this.dialogPage.isShow = false;\n        });\n      } else {\n        this.updatePage(page.getValues(), () => {\n          this.dialogPage.isShow = false;\n          this.reload();\n        });\n      }\n    },\n\n    showDeleteAsking(index, obj) {\n      this.$confirm(\"确定要删除该自定义页面？\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.deletePage(obj._id, () => {\n          this.list.splice(index, 1);\n        });\n      });\n    },\n\n    reload() {\n      this.list = [];\n      this.loading = true;\n      setTimeout(()=>{\n        this.getPageList();\n      }, 1000);\n    },\n\n    viewWeb(obj) {\n      window.open(`${baseURL}page/${obj.alias}.html`);\n    },\n\n    onPageChange(num) {\n      this.page.pageNumber = num;\n      this.getData(this.filter);\n    },\n\n    loaded() {\n      setTimeout(() => {\n        this.loading = false;\n      }, 1000);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.title {\n  padding: 10px;\n}\n.form {\n  width: 70%;\n}\n.card-box {\n  margin-bottom: 10px;\n}\n.pagination-warp {\n  padding: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=209a3779&scoped=true&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./list.vue?vue&type=style&index=0&id=209a3779&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"209a3779\",\n  null\n  \n)\n\ncomponent.options.__file = \"list.vue\"\nexport default component.exports"],"sourceRoot":""}